<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SVN命令 | Hello, Welcome to  My Blog</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="Just playing around">
    <link rel="preload" href="/assets/css/0.styles.7412edcf.css" as="style"><link rel="preload" href="/assets/js/app.64436fc8.js" as="script"><link rel="preload" href="/assets/js/2.a6c38e86.js" as="script"><link rel="preload" href="/assets/js/26.a80ff106.js" as="script"><link rel="prefetch" href="/assets/js/10.f8ae51cc.js"><link rel="prefetch" href="/assets/js/11.8e14afec.js"><link rel="prefetch" href="/assets/js/12.61537104.js"><link rel="prefetch" href="/assets/js/13.ea600b29.js"><link rel="prefetch" href="/assets/js/14.275cf7fc.js"><link rel="prefetch" href="/assets/js/15.cdb445fb.js"><link rel="prefetch" href="/assets/js/16.afab3521.js"><link rel="prefetch" href="/assets/js/17.63cd40d0.js"><link rel="prefetch" href="/assets/js/18.7112a972.js"><link rel="prefetch" href="/assets/js/19.cacfed6d.js"><link rel="prefetch" href="/assets/js/20.c61bafbd.js"><link rel="prefetch" href="/assets/js/21.1337f8be.js"><link rel="prefetch" href="/assets/js/22.d17e5764.js"><link rel="prefetch" href="/assets/js/23.3b3f4b0d.js"><link rel="prefetch" href="/assets/js/24.2f6b9b14.js"><link rel="prefetch" href="/assets/js/25.f0ea4745.js"><link rel="prefetch" href="/assets/js/27.75930e45.js"><link rel="prefetch" href="/assets/js/28.31f96eeb.js"><link rel="prefetch" href="/assets/js/3.0f1c27ca.js"><link rel="prefetch" href="/assets/js/4.786684df.js"><link rel="prefetch" href="/assets/js/5.e372ff18.js"><link rel="prefetch" href="/assets/js/6.09648780.js"><link rel="prefetch" href="/assets/js/7.70e27ed4.js"><link rel="prefetch" href="/assets/js/8.13b38c70.js"><link rel="prefetch" href="/assets/js/9.5d6210bf.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7412edcf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Hello, Welcome to  My Blog" class="logo"> <span class="site-name can-hide">Hello, Welcome to  My Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  教程
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front/mui/" class="nav-link">
  MUI
</a></li><li class="dropdown-item"><!----> <a href="/front/vue/" class="nav-link">
  VUE
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back/spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/back/mybatis/" class="nav-link">
  Mybatis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><span class="title">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/linux/" class="nav-link">
  Linux
</a></li></ul></div></div><div class="nav-item"><a href="/others/" class="nav-link router-link-active">
  其他
</a></div><div class="nav-item"><a href="https://yookoo.github.io/rising-waves/#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  rising-waves
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  教程
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front/mui/" class="nav-link">
  MUI
</a></li><li class="dropdown-item"><!----> <a href="/front/vue/" class="nav-link">
  VUE
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back/spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/back/mybatis/" class="nav-link">
  Mybatis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><span class="title">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/linux/" class="nav-link">
  Linux
</a></li></ul></div></div><div class="nav-item"><a href="/others/" class="nav-link router-link-active">
  其他
</a></div><div class="nav-item"><a href="https://yookoo.github.io/rising-waves/#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  rising-waves
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>others</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/others/Atom使用指南.html" class="sidebar-link">Atom 使用指南</a></li><li><a href="/others/" aria-current="page" class="sidebar-link">劝学</a></li><li><a href="/others/SVN命令.html" class="active sidebar-link">SVN命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/others/SVN命令.html#svn命令" class="sidebar-link">SVN命令</a></li><li class="sidebar-sub-header"><a href="/others/SVN命令.html#svn进阶应用" class="sidebar-link">svn进阶应用</a></li><li class="sidebar-sub-header"><a href="/others/SVN命令.html#svn高级应用" class="sidebar-link">svn高级应用</a></li></ul></li><li><a href="/others/maven私服配置.html" class="sidebar-link">maven私服配置</a></li><li><a href="/others/使用 Gitee 搭建 Markdown 图床.html" class="sidebar-link">使用 Gitee 搭建 Markdown 图床</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="svn命令"><a href="#svn命令" class="header-anchor">#</a> SVN命令</h2> <h3 id="服务端命令"><a href="#服务端命令" class="header-anchor">#</a> 服务端命令</h3> <p>创建本版库</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>svnadmin create svnroot
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>删除版本库</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">rm</span> -rvf svnroot
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>版本库配置及权限分组</p> <p>配置文件位于<code>/path/repos/conf/</code></p> <p>authz -- 配置用户组以及用户组权限</p> <p>passwd -- 配置用户名和密码</p> <p>svnserve.conf -- 配置默认权限、权限配置文件及密码配置文件</p> <p>svnserve.conf</p> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token comment"> # 没有权限不允许操作(默认可读)</span>
<span class="token attr-name"> anon-access</span> <span class="token punctuation">=</span> <span class="token attr-value">none</span>
<span class="token comment"> # 有权限时的操作</span>
<span class="token attr-name"> auth-access</span> <span class="token punctuation">=</span> <span class="token attr-value">write</span>
 
<span class="token comment"> # 用户名密码配置的路径</span>
<span class="token attr-name"> password-db</span> <span class="token punctuation">=</span> <span class="token attr-value">passwd</span>
<span class="token comment"> # 权限路径配置文件位置</span>
<span class="token attr-name"> authz-db</span> <span class="token punctuation">=</span> <span class="token attr-value">authz</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>passwd</p> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token attr-name">imooc</span> <span class="token punctuation">=</span> <span class="token attr-value">123456</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>authz</p> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code>[groups]
<span class="token comment"># 组名 = 用户名(多个用户用,隔开)</span>
<span class="token attr-name">pm</span> <span class="token punctuation">=</span> <span class="token attr-value">imooc</span>

[/]
<span class="token attr-name">@pm</span> <span class="token punctuation">=</span> <span class="token attr-value">rw</span>
<span class="token attr-name">imooc2</span> <span class="token punctuation">=</span> <span class="token attr-value">r</span>
<span class="token comment"># * 所有用户</span>
<span class="token comment"># * = r</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>SVN版本库访问</p> <p>运行SVN</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># svn版本库路径</span>
svnserve -d -r /imooc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>访问svn（<strong>客户端命令</strong>）</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 检出版本库</span>
<span class="token function">mkdir</span> svntest
<span class="token builtin class-name">cd</span> svntest
svn co/checkout svn://192.168.0.130 <span class="token punctuation">(</span>--username imooc --password <span class="token number">123456</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>SVN服务自启动</p> <p>编辑 /etc/rc.local(ubuntu)</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">vim</span> /etc/rc.local
svnserve -d -r /imooc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>常见SVN术语与文件状态</p> <p>checkout检出和export导出</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>svn co/checkout -r <span class="token number">2</span> //检出版本2
svn co/export -r <span class="token number">3</span> //导出版本2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="客户端命令"><a href="#客户端命令" class="header-anchor">#</a> 客户端命令</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>svn <span class="token function">add</span> - 添加到版本控制（--non-recursive）/ <span class="token punctuation">(</span>* --force<span class="token punctuation">)</span>
svn commit/ci - 提交修改到服务端（创建新版本号）<span class="token punctuation">(</span>-m <span class="token string">&quot;xxxx&quot;</span><span class="token punctuation">)</span> 
svn update/up - 更新工作副本<span class="token punctuation">(</span>-r <span class="token number">1</span><span class="token punctuation">)</span>
svn delete/del/remove/rm - 从版本库中删除文件或目录<span class="token punctuation">(</span>-m <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code>svn diff/di - 版本差异比较<span class="token punctuation">(</span>-r <span class="token number">1</span><span class="token punctuation">)</span>
svn <span class="token function">mkdir</span> - 创建目录并增加到版本控制
svn <span class="token function">cat</span> - 不检出工作副本直接查看指定文件
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code>svn revert - 工作副本还原 （--recursive） <span class="token punctuation">[</span>filename<span class="token operator">|</span>*<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>二进制冲突与树冲突</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>
svn resolve <span class="token punctuation">[</span>filename<span class="token punctuation">]</span> - 处理冲突
svn resolved <span class="token punctuation">[</span>filename<span class="token punctuation">]</span> - 标记冲突已处理
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>锁定与解锁(没什么用)</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>svn lock - 锁定文件，防止其他成员对文件进行提交
svn unlock - 解锁文件（提交之后会自动解锁）（svn ci --no-unlock）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="svn进阶应用"><a href="#svn进阶应用" class="header-anchor">#</a> svn进阶应用</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>svn list/ls - 列出当前目录下处于版本控制的所有文件<span class="token punctuation">(</span>--recursive -v<span class="token punctuation">)</span>
svn status/st - 列出工作副本中文件（夹）的状态
? - 无版本控制
D - 已被标记从版本库中删除
M - 已被编辑过
A - 已被标记添加到版本库中
R - 文件被替换
C - 文件存在冲突
！ - 文件缺失

svn log - 查看提交日志（来自svn ci的-m参数）
svn info - 工作副本及文件（夹）的详细信息 （--xml<span class="token operator">&gt;&gt;</span>info.xml）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="svn高级应用"><a href="#svn高级应用" class="header-anchor">#</a> svn高级应用</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 复制工作副本并添加到当前版本库</span>
svn copy/cp <span class="token punctuation">[</span>source<span class="token punctuation">]</span> <span class="token punctuation">[</span>target<span class="token punctuation">]</span> - 复制单个文件 <span class="token punctuation">(</span>-r <span class="token number">4</span><span class="token punctuation">)</span>
svn <span class="token function">cp</span> index.html about.html ./temp 批量操作

<span class="token comment"># 复制工作副本并直接提交到当前版本库(不可跨库)</span>
svn <span class="token function">cp</span> index.html svn://192.168.0.130/imooc/target.html -m <span class="token string">&quot;&quot;</span>

<span class="token comment"># 复制当前线上版本库文件到工作副本 （可以跨库）</span>
svn <span class="token function">cp</span> svn://192.168.0.130/imooc/target.html index.html 

<span class="token comment"># 复制当前线上版本库文件到其他版本库 (不可跨库)</span>
svn <span class="token function">cp</span> svn://192.168.0.130/imooc/ svn://192.168.0.130/imooc2/ -m <span class="token string">&quot;&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>主干版本与分支版本</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 复制当前线上版本库文件到其他版本库 (不可跨库)</span>
svn <span class="token function">cp</span> svn://192.168.0.130/imooc/ svn://192.168.0.130/imooc2/ -m <span class="token string">&quot;&quot;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>hooks 钩子</p> <p>版本库精简</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">killall</span> svnserve
svnadmin dump /svnroot/imooc/ -r <span class="token number">6</span>:16 <span class="token operator">&gt;</span> ~/imooc.repo

svnadmin create /svnroot/newimooc/

svnadmin load /svnroot/newimooc/ <span class="token operator">&lt;</span> ~/imooc.repo
<span class="token comment"># 复制配置文件</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/others/" class="prev router-link-active">
        劝学
      </a></span> <span class="next"><a href="/others/maven私服配置.html">
        maven私服配置
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.64436fc8.js" defer></script><script src="/assets/js/2.a6c38e86.js" defer></script><script src="/assets/js/26.a80ff106.js" defer></script>
  </body>
</html>
